@import"https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap";*{margin:0;padding:0;box-sizing:border-box}:root,[data-theme=light]{--primary: #FF6B6B;--primary-dark: #ee5a5a;--primary-light: #ff8a8a;--secondary: #4ECDC4;--accent: #FFE66D;--success: #51CF66;--error: #FF6B6B;--warning: #FFE66D;--bg: #FFF9E6;--bg-secondary: #FFE8CC;--card: #ffffff;--card-hover: #fff5eb;--text: #2D3436;--text-light: #636E72;--text-muted: #B2BEC3;--border: #FFE0B2;--shadow: rgba(255, 107, 107, .2);--gradient-start: #FF6B6B;--gradient-end: #4ECDC4;--input-bg: #ffffff;--overlay: rgba(255, 255, 255, .3);--overlay-solid: rgba(255, 255, 255, .95);--fun-purple: #A29BFE;--fun-blue: #74B9FF;--fun-green: #55EFC4;--fun-pink: #FD79A8;--fun-orange: #FDCB6E}[data-theme=dark]{--primary: #FF7675;--primary-dark: #D63031;--primary-light: #FAB1A0;--secondary: #00CEC9;--accent: #FFEAA7;--success: #00B894;--error: #FF7675;--warning: #FDCB6E;--bg: #2D3436;--bg-secondary: #3D4447;--card: #3D4447;--card-hover: #4a5568;--text: #DFE6E9;--text-light: #B2BEC3;--text-muted: #636E72;--border: #4a5568;--shadow: rgba(0, 0, 0, .4);--gradient-start: #6C5CE7;--gradient-end: #00CEC9;--input-bg: #2D3436;--overlay: rgba(0, 0, 0, .3);--overlay-solid: rgba(45, 52, 54, .95);--fun-purple: #A29BFE;--fun-blue: #74B9FF;--fun-green: #55EFC4;--fun-pink: #FD79A8;--fun-orange: #FDCB6E}[data-theme=dark] body:before{opacity:.35}[data-theme=dark] .app:before,[data-theme=dark] .app:after{opacity:.45}[data-theme=dark] .auth-screen:before,[data-theme=dark] .game-screen:before,[data-theme=dark] .auth-screen:after,[data-theme=dark] .game-screen:after{opacity:.4}[data-theme=dark] .bg-icon{opacity:.5;color:var(--secondary);filter:drop-shadow(0 2px 6px rgba(0,206,201,.3))}body{font-family:Fredoka,Segoe UI,system-ui,-apple-system,sans-serif;background:linear-gradient(135deg,var(--gradient-start) 0%,var(--gradient-end) 100%);min-height:100vh;color:var(--text);transition:background .3s ease;overflow-x:hidden;position:relative}body:before{display:none}@keyframes floatBg{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(1deg)}to{transform:translateY(0) rotate(0)}}.app:before,.app:after{position:fixed;font-size:3rem;opacity:.35;pointer-events:none;z-index:0;animation:floatIcon 8s ease-in-out infinite}.app:before{content:"üßÆ";top:10%;left:5%;animation-delay:0s}.app:after{content:"üìñ";bottom:15%;right:5%;animation-delay:2s}@keyframes floatIcon{0%,to{transform:translateY(0) rotate(-5deg)}50%{transform:translateY(-20px) rotate(5deg)}}.auth-screen:before,.game-screen:before{content:"‚ú®";position:fixed;top:20%;right:10%;font-size:2.5rem;opacity:.3;pointer-events:none;animation:sparkleFloat 6s ease-in-out infinite}.auth-screen:after,.game-screen:after{content:"üéØ";position:fixed;bottom:25%;left:8%;font-size:2.5rem;opacity:.3;pointer-events:none;animation:sparkleFloat 7s ease-in-out infinite reverse}@keyframes sparkleFloat{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-15px) scale(1.1)}}.app,.player-card,.problem-card,.stats-bar,.pin-login,.register-form,.results-card,.timer-display,.mode-selector,.btn,input,.feedback{transition:background-color .3s ease,border-color .3s ease,color .3s ease}.app{max-width:500px;margin:0 auto;padding:20px;min-height:100vh;position:relative;z-index:1}.bg-decorations{position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:0;overflow:hidden}.bg-icon{position:absolute;opacity:.4;animation:floatRandom 10s ease-in-out infinite;width:48px;height:48px;color:var(--primary);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1));transition:opacity .3s ease}.bg-icon svg{width:100%;height:100%;display:block}.bg-icon:nth-child(1){top:5%;left:10%;width:56px;height:56px;animation-delay:0s}.bg-icon:nth-child(2){top:15%;right:15%;width:52px;height:52px;animation-delay:1s}.bg-icon:nth-child(3){top:30%;left:5%;width:60px;height:60px;animation-delay:2s;opacity:0}.bg-icon:nth-child(4){top:45%;right:8%;width:48px;height:48px;animation-delay:3s;opacity:0}.bg-icon:nth-child(5){top:60%;left:12%;width:56px;height:56px;animation-delay:4s}.bg-icon:nth-child(6){top:75%;right:10%;width:52px;height:52px;animation-delay:5s}.bg-icon:nth-child(7){top:85%;left:8%;width:50px;height:50px;animation-delay:6s}.bg-icon:nth-child(8){top:25%;left:85%;width:56px;height:56px;animation-delay:7s}.bg-icon:nth-child(9){top:50%;left:3%;width:46px;height:46px;animation-delay:8s;opacity:0}.bg-icon:nth-child(10){top:90%;right:20%;width:54px;height:54px;animation-delay:9s}.bg-icon:nth-child(11){top:12%;left:50%;width:58px;height:58px;animation-delay:10s;opacity:0}.bg-icon:nth-child(12){top:65%;right:5%;width:52px;height:52px;animation-delay:11s}.bg-icon:nth-child(13){top:40%;left:75%;width:56px;height:56px;animation-delay:12s;opacity:0}.bg-icon:nth-child(14){top:80%;right:40%;width:50px;height:50px;animation-delay:13s}@keyframes floatRandom{0%,to{transform:translateY(0) rotate(0) scale(1)}25%{transform:translateY(-15px) rotate(5deg) scale(1.05)}50%{transform:translateY(-8px) rotate(-3deg) scale(1.02)}75%{transform:translateY(-18px) rotate(3deg) scale(1.05)}}.random-animal{position:fixed;font-size:4.5rem;pointer-events:none;z-index:500;animation:animalPop .6s cubic-bezier(.175,.885,.32,1.275),animalBounce .5s ease-in-out .6s infinite,animalFadeOut .5s ease-in 2.5s forwards;transform-origin:center;filter:drop-shadow(0 6px 12px rgba(0,0,0,.3));-webkit-user-select:none;user-select:none;line-height:1}@keyframes animalPop{0%{transform:translate(-50%,-50%) scale(0) rotate(-180deg);opacity:0}50%{transform:translate(-50%,-50%) scale(1.2) rotate(10deg);opacity:1}to{transform:translate(-50%,-50%) scale(1) rotate(0);opacity:1}}@keyframes animalBounce{0%,to{transform:translate(-50%,-50%) translateY(0) rotate(0)}25%{transform:translate(-50%,-50%) translateY(-10px) rotate(-5deg)}75%{transform:translate(-50%,-50%) translateY(-5px) rotate(5deg)}}@keyframes animalFadeOut{0%{transform:translate(-50%,-50%) translateY(0) scale(1);opacity:1}to{transform:translate(-50%,-50%) translateY(-30px) scale(.8);opacity:0}}.bg-icon:hover{opacity:.6;transform:scale(1.1)}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes wiggle{0%,to{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}@keyframes pop{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes rainbow{0%{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@keyframes sparkle{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}@keyframes confetti{0%{transform:translateY(-100%) rotate(0);opacity:1}to{transform:translateY(100vh) rotate(720deg);opacity:0}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.loading-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;height:80vh;color:#fff}.loading-emoji{font-size:6rem;animation:bounce .8s infinite,wiggle .5s infinite;filter:drop-shadow(0 10px 20px rgba(0,0,0,.2))}.loading-screen p{font-size:1.5rem;font-weight:600;margin-top:20px;animation:float 2s infinite}.auth-screen{text-align:center;padding-top:30px}.auth-screen h1{color:#fff;font-size:3rem;margin-bottom:15px;text-shadow:4px 4px 0 rgba(0,0,0,.15);animation:bounce 2s infinite}.auth-screen .subtitle{color:#fff;font-size:1.4rem;margin-bottom:30px;font-weight:600;text-shadow:2px 2px 0 rgba(0,0,0,.1)}.auth-screen .hint{color:#ffffffe6;font-size:1.1rem;margin-top:20px;font-weight:500}.players-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px;margin-bottom:30px}.player-card{background:var(--card);border-radius:25px;padding:25px;cursor:pointer;transition:all .3s cubic-bezier(.175,.885,.32,1.275);border:4px solid var(--border);box-shadow:0 8px 0 var(--border)}.player-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 15px 0 var(--border),0 20px 40px var(--shadow);border-color:var(--primary);animation:wiggle .3s ease}.player-card:active{transform:translateY(-2px);box-shadow:0 4px 0 var(--border)}.player-card .avatar{font-size:4rem;margin-bottom:10px;animation:float 3s ease-in-out infinite;filter:drop-shadow(0 4px 8px rgba(0,0,0,.1))}.player-card .name{font-weight:700;font-size:1.1rem;color:var(--text)}.add-player{background:var(--overlay);border:3px dashed rgba(255,255,255,.5);color:#fff}.add-player:hover{background:#ffffff4d;border-color:#fff}[data-theme=dark] .add-player{border-color:var(--text-muted)}[data-theme=dark] .add-player:hover{background:var(--overlay);border-color:var(--text-light)}.add-player .avatar{opacity:.8}.add-player .name{color:#fff}.pin-login{background:var(--card);border-radius:20px;padding:30px;margin-top:20px;border:1px solid var(--border)}.selected-player{margin-bottom:25px}.selected-player .avatar.large{font-size:4rem;margin-bottom:10px}.selected-player .name{font-size:1.5rem;font-weight:600;color:var(--text)}.pin-label{color:var(--text-light);margin-bottom:15px;font-size:1rem}.pin-input{display:flex;gap:12px;justify-content:center;margin-bottom:20px}.pin-digit{width:55px;height:65px;font-size:2rem;text-align:center;border:3px solid var(--border);border-radius:12px;background:var(--input-bg);color:var(--text);transition:all .2s}.pin-digit:focus{outline:none;border-color:var(--primary);background:var(--card);box-shadow:0 0 0 3px #6366f133}.error{color:var(--error);background:#fef2f2;padding:12px 20px;border-radius:10px;margin-bottom:15px;font-size:.95rem}.login-form{background:var(--card);border-radius:20px;padding:30px;margin-top:20px;border:1px solid var(--border)}.auth-divider{display:flex;align-items:center;margin:25px 0 15px;color:var(--text-light)}.auth-divider:before,.auth-divider:after{content:"";flex:1;height:1px;background:var(--border)}.auth-divider span{padding:0 15px;font-size:.9rem}.register-form{background:var(--card);border-radius:20px;padding:30px;margin-top:20px;border:1px solid var(--border)}.avatar-picker{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:25px}.avatar-option{font-size:2rem;padding:10px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:all .2s;background:var(--bg-secondary)}.avatar-option:hover{transform:scale(1.1)}.avatar-option.selected{border-color:var(--primary);background:var(--primary);background:#6366f133}[data-theme=dark] .avatar-option.selected{background:#818cf84d}.input-group{margin-bottom:20px;text-align:left}.input-group label{display:block;color:var(--text-light);font-size:.9rem;margin-bottom:8px;font-weight:500}.input-group input:not(.pin-digit){width:100%;padding:15px;font-size:1.2rem;border:2px solid var(--border);border-radius:12px;text-align:center;background:var(--input-bg);color:var(--text)}.input-group input:not(.pin-digit):focus{outline:none;border-color:var(--primary);background:var(--card)}.input-group input:not(.pin-digit)::placeholder{color:var(--text-muted)}.input-hint{display:block;font-size:.8rem;color:var(--text-muted);margin-top:5px;text-align:center}.btn{padding:18px 35px;font-size:1.2rem;font-weight:700;border:none;border-radius:20px;cursor:pointer;transition:all .2s cubic-bezier(.175,.885,.32,1.275);display:inline-block;margin-top:12px;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}.btn:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.3),transparent);transform:rotate(45deg) translate(-100%);transition:transform .6s}.btn:hover:after{transform:rotate(45deg) translate(100%)}.btn-primary{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);color:#fff;width:100%;box-shadow:0 6px 0 var(--primary-dark),0 8px 20px var(--shadow)}.btn-primary:hover:not(:disabled){transform:translateY(-4px);box-shadow:0 10px 0 var(--primary-dark),0 15px 30px var(--shadow)}.btn-primary:active:not(:disabled){transform:translateY(2px);box-shadow:0 2px 0 var(--primary-dark)}.btn-primary:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.btn-secondary{background:linear-gradient(135deg,var(--secondary) 0%,#3dbdb6 100%);color:#fff;width:100%;box-shadow:0 6px #3dbdb6,0 8px 20px var(--shadow)}.btn-secondary:hover{transform:translateY(-4px);box-shadow:0 10px #3dbdb6,0 15px 30px var(--shadow)}.btn-secondary:active{transform:translateY(2px);box-shadow:0 2px #3dbdb6}.game-screen{padding-top:10px}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.header-buttons{display:flex;gap:8px}.icon-btn{background:var(--overlay);color:#fff;border:none;width:40px;height:40px;border-radius:10px;cursor:pointer;font-size:1.2rem;transition:all .2s;display:flex;align-items:center;justify-content:center}.icon-btn:hover{background:#ffffff59;transform:scale(1.05)}[data-theme=dark] .icon-btn{background:var(--card);border:1px solid var(--border)}[data-theme=dark] .icon-btn:hover{background:var(--card-hover)}.player-info{display:flex;align-items:center;gap:10px;background:var(--card);padding:10px 15px;border-radius:50px;border:1px solid var(--border)}.player-info .avatar{font-size:1.5rem}.player-info .name{font-weight:600}.logout-btn{background:#fff3;color:#fff;border:none;width:40px;height:40px;border-radius:10px;cursor:pointer;font-size:1.1rem;transition:all .2s}.logout-btn:hover{background:#ffffff4d}.mode-selector{display:flex;gap:10px;margin-bottom:15px;background:#ffffff26;padding:8px;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.mode-btn{flex:1;padding:14px 20px;border:none;border-radius:15px;background:transparent;color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.175,.885,.32,1.275)}.mode-btn:hover{background:#fff3;transform:scale(1.02)}.mode-btn.active{background:var(--card);color:var(--primary);box-shadow:0 6px 20px var(--shadow);transform:scale(1.02)}[data-theme=dark] .mode-btn{color:#fffc}[data-theme=dark] .mode-btn.active{background:var(--card);color:var(--secondary)}.timer-display{background:linear-gradient(135deg,var(--fun-green) 0%,#00b894 100%);border-radius:20px;padding:18px 25px;margin-bottom:15px;display:flex;justify-content:space-between;align-items:center;color:#fff;box-shadow:0 6px #00b894,0 10px 25px #00b8944d;border:3px solid rgba(255,255,255,.2)}.timer-display.urgent{background:linear-gradient(135deg,var(--error) 0%,#d63031 100%);box-shadow:0 6px #d63031,0 10px 25px #d630314d}.timer-value{font-size:2.5rem;font-weight:700;text-shadow:2px 2px 0 rgba(0,0,0,.2);animation:timerShake .4s ease;display:inline-block}@keyframes timerShake{0%,to{transform:translate(0) rotate(0)}10%{transform:translate(-4px) rotate(-2deg)}20%{transform:translate(4px) rotate(2deg)}30%{transform:translate(-4px) rotate(-2deg)}40%{transform:translate(4px) rotate(2deg)}50%{transform:translate(-3px) rotate(-1deg)}60%{transform:translate(3px) rotate(1deg)}70%{transform:translate(-2px) rotate(-.5deg)}80%{transform:translate(2px) rotate(.5deg)}90%{transform:translate(-1px) rotate(0)}}.timer-score{font-size:1.2rem;font-weight:700;background:#fff3;padding:8px 15px;border-radius:15px}.stats-bar{display:flex;justify-content:space-around;background:var(--card);border-radius:20px;padding:18px 15px;margin-bottom:15px;border:3px solid var(--border);box-shadow:0 6px 0 var(--border)}.stat{text-align:center;padding:5px 10px}.stat:nth-child(1) .stat-value{color:var(--fun-purple)}.stat:nth-child(2) .stat-value{color:var(--fun-orange)}.stat:nth-child(3) .stat-value{color:var(--fun-green)}.stat:nth-child(4) .stat-value{color:var(--fun-pink)}.stat-value{font-size:1.6rem;font-weight:700;text-shadow:1px 1px 0 rgba(0,0,0,.1)}.stat-label{font-size:.75rem;font-weight:600;color:var(--text-light);text-transform:uppercase;letter-spacing:.5px}.type-selector{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:18px}.type-btn{padding:12px 20px;border:none;border-radius:50px;background:#fff3;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.175,.885,.32,1.275);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.type-btn:hover{background:#ffffff59;transform:translateY(-3px) scale(1.05)}.type-btn.active{background:var(--card);color:var(--primary);font-weight:700;box-shadow:0 6px 20px var(--shadow);transform:scale(1.05)}[data-theme=dark] .type-btn{color:#ffffffe6}[data-theme=dark] .type-btn.active{color:var(--secondary)}.problem-card{background:var(--card);border-radius:35px;padding:40px;text-align:center;box-shadow:0 15px 0 var(--border),0 25px 50px var(--shadow);border:4px solid var(--border);position:relative;overflow:hidden}.problem-card.count-card{padding:30px}.count-instruction{font-size:1.3rem;font-weight:700;color:var(--text);margin-bottom:25px;text-shadow:1px 1px 0 rgba(0,0,0,.1)}.count-objects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:15px;margin-bottom:30px;padding:20px;background:var(--bg-secondary);border-radius:20px;max-width:100%;justify-items:center;align-items:center}.count-object{font-size:3rem;display:inline-block;animation:countPop .3s ease;animation-fill-mode:both;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.count-object:nth-child(1){animation-delay:.05s}.count-object:nth-child(2){animation-delay:.1s}.count-object:nth-child(3){animation-delay:.15s}.count-object:nth-child(4){animation-delay:.2s}.count-object:nth-child(5){animation-delay:.25s}.count-object:nth-child(6){animation-delay:.3s}.count-object:nth-child(7){animation-delay:.35s}.count-object:nth-child(8){animation-delay:.4s}.count-object:nth-child(9){animation-delay:.45s}.count-object:nth-child(10){animation-delay:.5s}.count-object:nth-child(11){animation-delay:.55s}.count-object:nth-child(12){animation-delay:.6s}.count-object:nth-child(13){animation-delay:.65s}.count-object:nth-child(14){animation-delay:.7s}.count-object:nth-child(15){animation-delay:.75s}@keyframes countPop{0%{transform:scale(0) rotate(-180deg);opacity:0}50%{transform:scale(1.2) rotate(10deg)}to{transform:scale(1) rotate(0);opacity:1}}.problem-card:before{content:"‚ú®";position:absolute;top:15px;left:20px;font-size:1.5rem;animation:sparkle 2s infinite}.problem-card:after{content:"‚≠ê";position:absolute;top:15px;right:20px;font-size:1.5rem;animation:sparkle 2s infinite .5s}.difficulty-display{text-align:center;margin-bottom:20px;transition:all .3s ease}.difficulty-display.change-up{animation:levelUpPop .5s ease-out}.difficulty-display.change-down{animation:levelDownPop .3s ease-out}@keyframes levelUpPop{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}@keyframes levelDownPop{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}.difficulty-bar{display:flex;justify-content:center;gap:6px;margin-bottom:8px}.difficulty-dot{width:14px;height:14px;border-radius:50%;background:var(--border);transition:all .3s ease}.difficulty-dot.active{transform:scale(1.1);box-shadow:0 2px 8px #00000026}.difficulty-label{font-size:.95rem;font-weight:700;margin-bottom:8px;display:flex;align-items:center;justify-content:center;gap:8px}.level-change{font-size:.85rem;font-weight:600;padding:2px 8px;border-radius:10px;animation:fadeInOut 2s ease-out forwards}.level-change.up{background:#22c55e26;color:#16a34a}.level-change.down{background:#ef44441a;color:#dc2626}@keyframes fadeInOut{0%{opacity:0;transform:translateY(-5px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0}}.recent-answers{display:flex;justify-content:center;gap:5px;font-size:.8rem}.answer-dot{transition:all .2s}.answer-dot.correct{color:var(--success)}.answer-dot.wrong{color:var(--error)}.problem-text{font-size:3.5rem;font-weight:700;margin-bottom:25px;color:var(--text);animation:pop .5s ease;text-shadow:3px 3px 0 var(--border)}.answer-input{width:100%;padding:20px;font-size:2.5rem;font-weight:700;text-align:center;border:4px solid var(--border);border-radius:20px;margin-bottom:15px;background:var(--input-bg);color:var(--text);box-shadow:inset 0 4px 8px #0000000d;transition:all .3s ease}.answer-input:focus{outline:none;border-color:var(--primary);background:var(--card);box-shadow:0 0 0 4px #ff6b6b33,inset 0 4px 8px #0000000d;transform:scale(1.02)}.answer-input::placeholder{color:var(--text-muted)}.answer-input.correct{border-color:var(--success);background:#d4edda;animation:pop .3s ease}.answer-input.incorrect{border-color:var(--error);background:#f8d7da;animation:shake .3s ease}.submit-btn{width:100%;padding:20px;font-size:1.4rem;font-weight:700;background:linear-gradient(135deg,var(--fun-purple) 0%,var(--fun-blue) 100%);color:#fff;border:none;border-radius:20px;cursor:pointer;transition:all .2s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 6px #7c6fe0,0 10px 25px var(--shadow);text-transform:uppercase;letter-spacing:1px}.submit-btn:hover:not(:disabled){transform:translateY(-4px);box-shadow:0 10px #7c6fe0,0 15px 35px var(--shadow)}.submit-btn:active:not(:disabled){transform:translateY(2px);box-shadow:0 2px #7c6fe0}.submit-btn:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.feedback{margin-top:20px;padding:25px;border-radius:20px;font-size:1.3rem;font-weight:700;animation:pop .4s cubic-bezier(.175,.885,.32,1.275)}.feedback.correct{background:linear-gradient(135deg,#55efc4,#00b894);color:#fff;box-shadow:0 8px 25px #00b89466}.feedback.incorrect{background:linear-gradient(135deg,#ff7675,#d63031);color:#fff;box-shadow:0 8px 25px #d6303166}.streak-display{font-size:1.1rem;margin-top:8px;animation:bounce .5s ease}.xp-gain{font-size:1rem;margin-top:8px;padding:5px 15px;background:#fff3;border-radius:20px;display:inline-block;animation:pop .3s ease .2s both}.results-screen{text-align:center;padding-top:30px}.results-screen h1{color:#fff;font-size:3rem;margin-bottom:25px;text-shadow:4px 4px 0 rgba(0,0,0,.15);animation:bounce 1s ease}.results-card{background:var(--card);border-radius:30px;padding:40px;box-shadow:0 15px 0 var(--border),0 25px 50px var(--shadow);border:4px solid var(--border);position:relative;overflow:hidden}.results-card:before{content:"üèÜ";position:absolute;top:-30px;left:50%;transform:translate(-50%);font-size:4rem;animation:bounce 1s infinite}.results-score{margin-bottom:25px;margin-top:20px}.big-number{font-size:6rem;font-weight:800;background:linear-gradient(135deg,var(--fun-purple) 0%,var(--fun-pink) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;animation:pop .5s ease;text-shadow:none}.score-label{font-size:1.3rem;color:var(--text-light);margin-top:10px;font-weight:600}.results-stats{display:flex;justify-content:center;gap:35px;margin-bottom:25px}.result-stat{display:flex;align-items:center;gap:10px;font-size:1.2rem;font-weight:600;color:var(--text);padding:10px 20px;background:var(--bg-secondary);border-radius:15px}.stat-icon{font-size:1.5rem}.results-message{font-size:1.4rem;font-weight:700;color:#fff;padding:25px;background:linear-gradient(135deg,var(--fun-orange) 0%,var(--fun-pink) 100%);border-radius:20px;margin-bottom:25px;box-shadow:0 6px 20px #fdcb6e66}.achievement-popup{position:fixed;top:20px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#fdcb6e,#f39c12);color:#fff;padding:25px 40px;border-radius:25px;box-shadow:0 15px 40px #f39c1280;animation:achievementPop .6s cubic-bezier(.175,.885,.32,1.275),slideUp .5s ease-in 2.5s forwards;z-index:1000;text-align:center;border:4px solid rgba(255,255,255,.3)}.achievement-popup:before{content:"üéä";position:absolute;left:-20px;top:50%;transform:translateY(-50%);font-size:2rem;animation:bounce .5s infinite}.achievement-popup:after{content:"üéâ";position:absolute;right:-20px;top:50%;transform:translateY(-50%);font-size:2rem;animation:bounce .5s infinite .25s}.achievement-popup h3{font-size:1.6rem;margin-bottom:8px;text-shadow:2px 2px 0 rgba(0,0,0,.1)}@keyframes achievementPop{0%{transform:translate(-50%) translateY(-100px) scale(.5);opacity:0}50%{transform:translate(-50%) translateY(10px) scale(1.1)}to{transform:translate(-50%) translateY(0) scale(1);opacity:1}}@keyframes slideUp{0%{transform:translate(-50%) translateY(0);opacity:1}to{transform:translate(-50%) translateY(-100px);opacity:0}}.feedback-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background:#0006;z-index:998;animation:fadeIn .3s ease;pointer-events:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.app.feedback-active .bg-decorations,.app.feedback-active .bg-icon{opacity:.15;transition:opacity .3s ease}.app.feedback-active .problem-card,.app.feedback-active .stats-bar,.app.feedback-active .mode-selector,.app.feedback-active .type-selector,.app.feedback-active .header{opacity:.3;transition:opacity .3s ease}.feedback-popup{position:fixed;top:100px;left:50%;transform:translate(-50%);padding:20px 35px;border-radius:20px;box-shadow:0 15px 40px #00000080;animation:feedbackPop .5s cubic-bezier(.175,.885,.32,1.275),slideUp .5s ease-in 2s forwards;z-index:999;text-align:center;border:4px solid rgba(255,255,255,.4);display:flex;align-items:center;gap:15px;min-width:280px;max-width:90%;opacity:1!important}.feedback-popup.incorrect{animation:feedbackPop .5s cubic-bezier(.175,.885,.32,1.275),slideUp .5s ease-in 4s forwards}.feedback-popup.correct{background:linear-gradient(135deg,#55efc4,#00b894);color:#fff;box-shadow:0 15px 40px #00b89480}.feedback-popup.incorrect{background:linear-gradient(135deg,#ff7675,#d63031);color:#fff;box-shadow:0 15px 40px #d6303180}.feedback-icon{font-size:2.5rem;font-weight:700;line-height:1;flex-shrink:0}.feedback-message{flex:1;font-size:1.2rem;font-weight:700;text-shadow:1px 1px 0 rgba(0,0,0,.1)}.feedback-popup .streak-display{font-size:1rem;margin-top:6px;opacity:.95;animation:bounce .5s ease}.feedback-popup .xp-gain{font-size:.95rem;margin-top:6px;padding:4px 12px;background:#ffffff40;border-radius:10px;display:inline-block;font-weight:600}@keyframes feedbackPop{0%{transform:translate(-50%) translateY(-100px) scale(.5);opacity:0}50%{transform:translate(-50%) translateY(10px) scale(1.05)}to{transform:translate(-50%) translateY(0) scale(1);opacity:1}}.toppers-showcase{margin-top:30px;margin-bottom:10px}.toppers-showcase h3{color:#fff;font-size:1.4rem;margin-bottom:15px;text-shadow:2px 2px 0 rgba(0,0,0,.1)}.toppers-list{display:flex;flex-direction:column;gap:10px}.topper-card{display:flex;align-items:center;gap:12px;background:var(--card);padding:12px 18px;border-radius:16px;border:3px solid var(--border);transition:all .3s ease}.topper-card:hover{transform:translate(5px);border-color:var(--primary)}.topper-card.rank-1{background:linear-gradient(135deg,#fff9e6,#fff3cd);border-color:#ffc107;box-shadow:0 4px 15px #ffc1074d}.topper-card.rank-2{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-color:#adb5bd}.topper-card.rank-3{background:linear-gradient(135deg,#fff5f0,#ffe8dc);border-color:#cd7f32}[data-theme=dark] .topper-card{background:var(--card)}[data-theme=dark] .topper-card.rank-1{background:linear-gradient(135deg,#3d3520,#4a4025);border-color:#ffc107}[data-theme=dark] .topper-card.rank-2{background:linear-gradient(135deg,#3d3f42,#45484d);border-color:#6c757d}[data-theme=dark] .topper-card.rank-3{background:linear-gradient(135deg,#3d3530,#4a4035);border-color:#cd7f32}.topper-rank{font-size:1.5rem;min-width:35px;text-align:center}.topper-avatar{font-size:2rem;animation:float 3s ease-in-out infinite}.topper-info{flex:1;text-align:left}.topper-name{font-weight:700;font-size:1.1rem;color:var(--text);text-transform:capitalize}.topper-stats{display:flex;gap:8px;font-size:.85rem;color:var(--text-light);font-weight:500;margin-top:3px}.mode-btn.daily{background:linear-gradient(135deg,gold,#fa0)!important;color:#333!important}.mode-btn.daily.active{background:var(--card)!important;color:#f59e0b!important}.mode-btn.daily.completed{opacity:.6}.daily-progress{background:linear-gradient(135deg,#fef3c7,#fde68a);border-radius:20px;padding:18px 25px;margin-bottom:15px;border:3px solid #f59e0b;box-shadow:0 6px #d97706}[data-theme=dark] .daily-progress{background:linear-gradient(135deg,#78350f,#92400e)}.daily-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.daily-title{font-weight:700;font-size:1.2rem;color:#92400e}[data-theme=dark] .daily-title{color:#fde68a}.daily-count{font-weight:700;font-size:1.3rem;color:#d97706}.daily-progress-bar{height:12px;background:#ffffff80;border-radius:10px;overflow:hidden;margin-bottom:10px}.daily-progress-fill{height:100%;background:linear-gradient(90deg,#f59e0b,#fbbf24);border-radius:10px;transition:width .5s ease}.daily-stats-mini{display:flex;justify-content:space-around;font-size:.9rem;font-weight:600;color:#92400e}[data-theme=dark] .daily-stats-mini{color:#fde68a}.problem-card.daily-card{border-color:#f59e0b;box-shadow:0 15px #d97706,0 25px 50px #f59e0b4d}.daily-badge{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;padding:8px 20px;border-radius:20px;font-weight:700;font-size:.9rem;display:inline-block;margin-bottom:15px}.daily-submit{background:linear-gradient(135deg,#f59e0b,#d97706)!important;box-shadow:0 6px #b45309,0 10px 25px #f59e0b66!important}.daily-complete-card{background:var(--card);border-radius:30px;padding:40px;text-align:center;border:4px solid #f59e0b;box-shadow:0 15px #d97706,0 25px 50px #f59e0b4d}.complete-emoji{font-size:5rem;animation:bounce 1s infinite;margin-bottom:15px}.daily-complete-card h2{color:var(--text);font-size:1.8rem;margin-bottom:15px}.daily-complete-card p{color:var(--text-light);font-size:1.1rem;margin-bottom:20px}.complete-stats{display:flex;justify-content:center;gap:40px;margin:25px 0}.complete-stat{display:flex;flex-direction:column;align-items:center}.complete-stat .stat-value{font-size:2.5rem;font-weight:700;color:#f59e0b}.complete-stat .stat-label{font-size:.9rem;color:var(--text-light);font-weight:600}.come-back{color:var(--text-muted);font-style:italic}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.avatar-modal{background:var(--card);border-radius:30px;padding:30px;max-width:450px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:0 25px 50px #0000004d;animation:modalPop .3s ease}@keyframes modalPop{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.avatar-modal h2{text-align:center;color:var(--text);margin-bottom:5px}.modal-subtitle{text-align:center;color:var(--text-muted);margin-bottom:20px;font-size:.95rem}.avatar-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px}.avatar-item{background:var(--bg-secondary);border-radius:15px;padding:12px 8px;text-align:center;cursor:pointer;transition:all .2s;border:3px solid transparent;position:relative}.avatar-item.unlocked:hover{transform:translateY(-3px);border-color:var(--primary);box-shadow:0 5px 15px var(--shadow)}.avatar-item.locked{opacity:.6;cursor:not-allowed}.avatar-item.current{border-color:var(--success);background:#22c55e1a}.avatar-emoji{font-size:2rem;display:block;margin-bottom:5px}.avatar-name{font-size:.8rem;font-weight:600;color:var(--text);display:block}.avatar-requirement{font-size:.65rem;color:var(--text-muted);display:block;margin-top:4px}.avatar-progress{margin-top:5px}.avatar-progress-bar{height:4px;background:var(--border);border-radius:2px;overflow:hidden}.avatar-progress-fill{height:100%;background:var(--primary);border-radius:2px}.avatar-progress-text{font-size:.6rem;color:var(--text-muted)}.current-badge{position:absolute;top:5px;right:5px;background:var(--success);color:#fff;width:18px;height:18px;border-radius:50%;font-size:.7rem;display:flex;align-items:center;justify-content:center}.modal-close{width:100%}.avatar-unlock-popup{position:fixed;top:20px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#a78bfa,#8b5cf6);color:#fff;padding:25px 40px;border-radius:25px;box-shadow:0 15px 40px #8b5cf680;animation:achievementPop .6s cubic-bezier(.175,.885,.32,1.275),slideUp .5s ease-in 3.5s forwards;z-index:1000;text-align:center;border:4px solid rgba(255,255,255,.3)}.avatar-unlock-popup h3{font-size:1.4rem;margin-bottom:10px}.unlock-emoji{font-size:3rem;animation:bounce .5s ease}.player-info{cursor:pointer;transition:transform .2s}.player-info:hover{transform:scale(1.05)}.avatar.clickable{transition:transform .3s}.player-info:hover .avatar.clickable{animation:wiggle .3s ease}.copyright-footer{text-align:center;padding:20px;margin-top:30px;color:#fffc;font-size:.9rem;font-weight:500;border-top:1px solid rgba(255,255,255,.2)}[data-theme=dark] .copyright-footer{color:var(--text-muted);border-top-color:var(--border)}@media (max-width: 400px){.problem-text{font-size:2rem}.answer-input{font-size:1.5rem;padding:15px}.pin-digit{width:50px;height:60px;font-size:1.8rem}.auth-screen h1{font-size:2rem}.big-number{font-size:4rem}.timer-value{font-size:1.6rem}.topper-card{padding:10px 12px}.topper-avatar{font-size:1.6rem}.topper-name{font-size:1rem}.topper-stats{font-size:.75rem}}
